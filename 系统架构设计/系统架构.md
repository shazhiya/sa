# 软件架构

    软件架构是一个系统的草图，描述的对象是直接构成系统的抽象组件。各个组件之间的连接则明确和相对细致地描述组件之间的通讯。软件体系结构设计师构建计算机软件实践的基础。

## 软件架构建模

### 4+1视图

    每个视图只关心系统的一个侧面，5个视图结合在一起才能反映系统软件架构的全部内容。逻辑视图、开发视图描述系统的静态结构；进程视图、物理视图描述系统的动态结构。

- 逻辑视图 主要支持系统的功能需求，即系统提供给最终用户的服务
- 开发视图 也称模块视图。主要侧重于软件模块的组织和管理。
- 进程视图 侧重与系统的运行特征，主要关注一些非功能性的需求，如系统的性能和可用性。
- 物理视图 主要考虑如何把软件映射到硬件上，通常考虑到解决系统拓扑结构、安装、通讯等问题。
- 场景 可以看做那些重要系统活动的抽象，它使是个视图有机的联系起来、从某种意义上说，场景是最重要的需求抽象。

## 软件架构风格

    软件架构设计的一个核心问题是能否使用重复的软件架构模式，即能否达到架构级别的软件重用。

- 数据流风格 最常见、结构最简单的软件架构、所有数据按照流的形式在执行的过程中前进。不存在结构的反复和重构。
    - 批处理序列 批处理风格的每一步都是独立的，且每一步都是顺序执行的。数据传送在步与步之间作为一个整体。
    - 管道和过滤器 每个构件都有一组输入和输出，构件读输入的数据流，经过内部处理，产生输出流。过滤器是独立的实体，不能共享数据，也不知上游下游的标识。一个管道过滤器网络的输入的正确性，并不依赖过滤器进行增量计算的顺序。
- 调用\返回风格
    - 主程序\子程序 是结构化开发时期的经典架构风格；这种风格采用单线程控制，把问题划分为若干处理步骤，架构即为主程序和子程序、子程序通常可合成模块。过程调用作为交互机制，即充当连接件。
    - 面相对象风格 构件是对象。或则说是抽象数据类型的实例。对象是一种被称为管理者的构件，它负责保持资源的完整性。对象是通过函数和过程的调用来交互的。
    - 层次结构 层次系统组织成一个层次机构，每一层为上层服务，并作为下层客户。在层次系统中，除了一些精心挑选的输出函数外，内部的层只对相邻层可见。连接件通过层之间的交互协议来定义。如iso网络七层模型。
- 独立构件风格
    - 进程通讯 构件是独立的过程，连接件是消息传递。特点为 构件通常是命名过程，消息传递的方式是点对点、同步或异步，远程过程（方法）调用等
    - 事件驱动的系统 构件不直接调用一个过程，而是触发或广播一个或多个事件。构件是匿名的过程，它们之间的交互的连接件往往是以过程之间的隐式调用实现。优点为为软件复用提供了强大支持、为构件的维护和演化带来方便；缺点为构件放弃了对系统计算的控制。
- 虚拟机风格
    - 解释器
    - 基于规则的系统
- 仓库风格
    - 数据库系统 最常见的仓库风格。构件主要有：中央共享数据源，保存当前系统的数据状态；独立处理单元。对数据元素进行操作。
    - 黑板系统 包括知识源、黑板、控制三部分
    - 超文本系统 是一种非线性的网状信息组织方法，以节点为基本单位，链接作为节点之间的联想式关联。通常应用于互联网领域。
- 层次架构风格
    - 二层架构 c/s 服务其负责有效管理系统资源。主要任务集中与对DBMS的管理和控制，以及数据的备份和恢复；客户应用程序负责提供交互界面，向服务器提交用户请求并接受来着服务器的信息，对存在客户端的数据执行应用逻辑要求。
    - 三层cs架构 添加了应用服务器。系统分成标识层、功能层和数据层
    - bs架构 除数据库服务器外，应用程序以网页形式存放与web服务器上

## 面相服务的架构

    在soa模型中，所有的功能都定义层单独的服务。服务间通过交互和协调完成业务服务的整体逻辑。所有服务通过服务总线或流程管理器来连接。其松散的耦合的架构使得各个服务在交互过程中无需考虑双方内部实现细节，以及部署平台。
    目前实现SOA的方法也很多，主流方式有 WebService、企业服务总线、服务注册表
    在soa架构中，继承了来着对象和构件设计的各种原则如：明确定义的接口、自包含和模块化；与soa紧密相关的技术主要有：
- UDDI (Universal Description Discovery and Integration) 统一描述、发现和集成 
- WSDL (Web Service Description Language)web服务描述语言 描述的对象是服务
- SOAP (Simple Object Access Protocol) 简单对象访问协议
- REST (Representational State Transfer) 表述性状态转移




## REST架构
  Representational State Transfer, 表述性状态转移。其特点为资源、统一接口、URI和无状态。

### restful api
  即具有REST风格的API: 用URL定位资源、用HTTP动词（get/head/post/put/patch/delete）描述操作、用状态码标识操作结果。
  REST提供了如下一些设计概念和准则
- 网络上的所有事物都被抽象为资源
- 每个资源对应唯一资源标识
- 通过通用的连接件接口对资源进行操作
- 对资源的各种操作不会改变资源标识
- 所有操作都是无状态的




